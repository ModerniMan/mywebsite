function renderStats() {
    // Assuming vals and max are defined somewhere in your code
    
    // Your existing rendering logic...
    for (let i = 0; i < vals.length; i++) {
        const val = vals[i];
        const col = document.getElementById('column-' + i);
        const bar = col.querySelector('.bar');
        const txt = col.querySelector('.value-text');
        
        col.style.display = 'flex'; // Always show column
        if (val > 0) {
            bar.style.height = (val / max * 100) + "%";
            if (txt) txt.innerText = val;
        } else {
            bar.style.height = "4px"; // Minimum height for visibility
            if (txt) txt.innerText = "0";
        }
    }
    
    // Calculate total events
    const totalEvents = vals.reduce((sum, v) => sum + v, 0);
    const totalEl = document.getElementById('total-events');
    if (totalEl) totalEl.innerText = totalEvents;
}

// Insert summary section in your HTML after graph-container div
// Assuming you have a container with id="graph-container"
const graphContainer = document.getElementById('graph-container');
const summarySection = document.createElement('div');
summarySection.id = 'stats-summary';
summarySection.style.textAlign = 'center';
summarySection.style.padding = '10px';
summarySection.style.background = '#e3f2fd';
summarySection.style.borderRadius = '8px';
summarySection.style.marginTop = '15px';
summarySection.innerHTML = '<strong>סה"כ אירועים מפולגים:</strong> <span id="total-events">0</span>';
graphContainer.parentNode.insertBefore(summarySection, graphContainer.nextSibling);